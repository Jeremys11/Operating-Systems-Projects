//runserver.proto
//Only user created file in this directory
//Do not modify .pb.go files

//Need to make changes here if:
// Token definition changes
// More rpc functions are created

syntax = "proto3";

import "google/protobuf/timestamp.proto";

package runserver;

option go_package = "runserver/runserver";

//Service Calls
service RunService {
    rpc Create (RPCHelper) returns (Token);
    rpc Drop (RPCHelper) returns (Token);
    rpc Write (RPCHelper) returns (Token);
    rpc Read (RPCHelper) returns (Token);
    rpc GetFinalValue(RPCHelper) returns (Write_Record);
}

// Message WRITE_RECORD
message Write_Record {
	uint64 FINAL_VALUE = 1;
	google.protobuf.Timestamp TIME = 2;
}

//Message RPCHelper
//ID TOKEN
//SERVERTYPE = WRITER,READER
message RPCHelper{
    string ID = 1;
    string NAME = 2;
    uint64 LOW = 3;
    uint64 MID = 4;
    uint64 HIGH = 5;
    uint64 PARTIAL_VALUE = 6;
    uint64 FINAL_VALUE = 7;
    string SERVERTYPE = 8;
    string ADDRESS = 9;
}

//Message Token definition
message Token {
    string ID = 1; 
    string NAME = 2;
    uint64 LOW = 3;
    uint64 MID = 4;
    uint64 HIGH = 5;
    uint64 PARTIAL_VALUE = 6;
    uint64 FINAL_VALUE = 7;
}
